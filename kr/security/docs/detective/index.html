
<!doctype html>
<html lang="kr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>탐지 관리 - EKS 모범 사례 가이드</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-VQGL8B2FH8"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-VQGL8B2FH8",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-VQGL8B2FH8",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="None" data-md-color-accent="None">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          콘텐츠로 이동
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../" title="EKS 모범 사례 가이드" class="md-header__button md-logo" aria-label="EKS 모범 사례 가이드" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            EKS 모범 사례 가이드
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              탐지 관리
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="언어설정">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="../../../../security/docs/detective/" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="./" hreflang="kr" class="md-select__link">
                    한국어
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="검색" placeholder="검색" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="검색">
        
        <button type="reset" class="md-search__icon md-icon" title="지우기" aria-label="지우기" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            검색 초기화
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws/aws-eks-best-practices" title="저장소로 이동" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-eks-best-practices
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../" title="EKS 모범 사례 가이드" class="md-nav__button md-logo" aria-label="EKS 모범 사례 가이드" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    EKS 모범 사례 가이드
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws/aws-eks-best-practices" title="저장소로 이동" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-eks-best-practices
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          가이드
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="가이드" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          가이드
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        소개
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          보안
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="보안" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          보안
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        홈
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../iam/" class="md-nav__link">
        인증 및 접근 관리
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../pods/" class="md-nav__link">
        Pod 보안
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../multitenancy/" class="md-nav__link">
        멀티 테넌시
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          탐지 관리
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        탐지 관리
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="목차">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      목차
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    추천
  </a>
  
    <nav class="md-nav" aria-label="추천">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    감사 로그 활성화
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    감사 메타데이터 활용
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    의심스러운 이벤트에 대한 알람 생성
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-insights" class="md-nav__link">
    Log Insights로 로그 분석
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudtrail" class="md-nav__link">
    CloudTrail 로그 감사
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudtrail-insights" class="md-nav__link">
    CloudTrail Insights를 사용하여 의심스러운 활동 발견
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    추가 리소스
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    툴링
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../network/" class="md-nav__link">
        네트워크 보안
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../data/" class="md-nav__link">
        데이터 암호화 및 시크릿 관리
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/" class="md-nav__link">
        런타임 보안
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../hosts/" class="md-nav__link">
        인프라 보안
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../compliance/" class="md-nav__link">
        컴플라이언스
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../incidents/" class="md-nav__link">
        사고 대응 및 포렌식
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../image/" class="md-nav__link">
        이미지 보안
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          클러스터 오토스케일링
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="클러스터 오토스케일링" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          클러스터 오토스케일링
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../karpenter/" class="md-nav__link">
        Karpenter
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../cluster-autoscaling/" class="md-nav__link">
        Cluster Autoscaler
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          신뢰성
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="신뢰성" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          신뢰성
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reliability/docs/" class="md-nav__link">
        홈
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reliability/docs/application/" class="md-nav__link">
        애플리케이션
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reliability/docs/controlplane/" class="md-nav__link">
        컨트롤 플레인
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reliability/docs/dataplane/" class="md-nav__link">
        데이터 플레인
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../reliability/docs/networkmanagement/" class="md-nav__link">
        네트워크
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          윈도우 컨테이너
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="윈도우 컨테이너" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          윈도우 컨테이너
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/ami/" class="md-nav__link">
        AMI 관리
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/gmsa/" class="md-nav__link">
        gMSA 윈도우 컨테이너
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/hardening/" class="md-nav__link">
        윈도우 서버 하드닝
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/heterogeneous/" class="md-nav__link">
        혼합 워크로드 실행
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/images/" class="md-nav__link">
        윈도우 이미지 스캔
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/licensing/" class="md-nav__link">
        윈도우 버전 및 라이선스
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/logging/" class="md-nav__link">
        로깅
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/monitoring/" class="md-nav__link">
        윈도우 컨테이너 모니터링
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/networking/" class="md-nav__link">
        윈도우 네트워크
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/oom/" class="md-nav__link">
        메모리 및 시스템 관리
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/patching/" class="md-nav__link">
        인프라 관리
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/scheduling/" class="md-nav__link">
        스케줄링
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/security/" class="md-nav__link">
        윈도우 컨테이너 Pod 보안
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../windows/docs/storage/" class="md-nav__link">
        스토리지 옵션
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          네트워크
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="네트워크" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          네트워크
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/index/" class="md-nav__link">
        홈
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/subnets/" class="md-nav__link">
        VPC 및 서브넷 고려사항
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/vpc-cni/" class="md-nav__link">
        Amazon VPC CNI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/prefix-mode/" class="md-nav__link">
        Prefix 모드
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/ipv6/" class="md-nav__link">
        IPv6 클러스터 실행
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/sgpp/" class="md-nav__link">
        Pod 보안 그룹 할당
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/custom-networking/" class="md-nav__link">
        Custom Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/loadbalancing/loadbalancing/" class="md-nav__link">
        로드 밸런싱
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../networking/CoreDNS/" class="md-nav__link">
        DNS 쓰로틀링 모니터링
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="목차">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      목차
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    추천
  </a>
  
    <nav class="md-nav" aria-label="추천">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    감사 로그 활성화
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    감사 메타데이터 활용
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    의심스러운 이벤트에 대한 알람 생성
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-insights" class="md-nav__link">
    Log Insights로 로그 분석
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudtrail" class="md-nav__link">
    CloudTrail 로그 감사
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloudtrail-insights" class="md-nav__link">
    CloudTrail Insights를 사용하여 의심스러운 활동 발견
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    추가 리소스
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    툴링
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/aws/aws-eks-best-practices/edit/master/docs/security/docs/detective.kr.md" title="이 페이지를 편집" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="_1">감사 및 로깅<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>[ 감사 ] 로그를 수집하고 분석 하는 것은 여러 가지 이유로 유용합니다. 로그는 근본 원인 분석 및 속성, 즉 특정 사용자에 대한 변경을 설명하는 데 도움이 될 수 있습니다. 충분한 로그가 수집되면 비정상적인 동작을 감지하는 데에도 사용할 수 있습니다. EKS에서 감사 로그는 Amazon Cloudwatch Logs로 전송됩니다. EKS에 대한 감사 정책은 다음과 같습니다.</p>
<div class="codehilite"><pre><span></span><code><span class="nt">apiVersion </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">audit.k8s.io/v1beta1</span><span class="w"></span>
<span class="nt">종류 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">정책</span><span class="w"></span>
<span class="nt">규칙 </span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="c1"># aws-auth configmap 변경 사항 기록</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">수준 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">요청 응답</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">네임스페이스</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;kube-system&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;업데이트&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;패치&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;삭제&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;configmaps&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 이름 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;aws-auth&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="w w-Error">  </span><span class="nt">생략단계 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;시스템:kube-proxy&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;시계&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;엔드포인트&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;서비스&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;서비스/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">users</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;kubelet&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># 레거시 kubelet ID</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;얻다&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;노드&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;노드/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자 그룹</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;시스템:노드&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;얻다&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;노드&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;노드/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">시스템:kube-controller-manager</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">시스템</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kube-scheduler</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">시스템:서비스 계정:kube-시스템:엔드포인트 컨트롤러</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">동사</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;얻다&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;업데이트하다&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">네임스페이스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;kube-system&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;엔드포인트&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;시스템:apiserver&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;얻다&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;네임스페이스&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;네임스페이스/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;네임스페이스/종료&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">시스템:kube-controller-manager</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">동사</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;얻다&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;목록&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;metrics.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">nonResourceURLs</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/healthz*</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/버전</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/swagger*</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">없음</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">리소스</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;이벤트&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">의뢰</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;kubelet&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;system:node-problem-detector&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;system:serviceaccount:kube-system:node-problem-detector&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;업데이트&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;패치&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;노드/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;포드/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="w w-Error">  </span><span class="nt">생략단계 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">의뢰</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자 그룹</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;시스템:노드&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;업데이트&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;패치&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;노드/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;포드/상태&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">  </span><span class="w w-Error">  </span><span class="nt">생략단계 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">의뢰</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">사용자</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;system:serviceaccount:kube-system:namespace-controller&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">동사 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;deletecollection&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">생략단계 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
<span class="w">  </span><span class="c1"># Secrets, ConfigMaps 및 TokenReviews는 민감한 바이너리 데이터를 포함할 수 있습니다.</span><span class="w"></span>
<span class="w">  </span><span class="c1"># 따라서 메타데이터 수준에서만 기록합니다.</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">메타데이터</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">리소스</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;비밀&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;configmaps&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">authentication.k8s.io</span><span class="w"></span>
<span class="w">        </span><span class="l l-Scalar l-Scalar-Plain">자원</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;tokenreviews&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">생략단계 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">의뢰</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">리소스</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"></span>
<span class="w">        </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;서비스</span><span class="nv"> </span><span class="s">계정/토큰&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">의뢰</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">동사</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="s">&quot;get&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;list&quot;</span><span class="w"> </span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;watch&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">리소스 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;admissionregistration.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;apiextensions.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;apiregistration.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;앱&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;authentication.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;authorization.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;자동</span><span class="nv"> </span><span class="s">확장&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;배치&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;certificates.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;확장</span><span class="nv"> </span><span class="s">프로그램&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;metrics.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;networking.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;정책&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;rbac.authorization.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;scheduling.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;settings.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;storage.k8s.io&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">생략단계 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
<span class="w">  </span><span class="c1"># 알려진 API의 기본 수준</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">수준 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">요청 응답</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">리소스</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="c1"># 핵심</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;admissionregistration.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;apiextensions.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;apiregistration.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;앱&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;authentication.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;authorization.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;자동</span><span class="nv"> </span><span class="s">확장&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;배치&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;certificates.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;확장</span><span class="nv"> </span><span class="s">프로그램&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;metrics.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;networking.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;정책&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;rbac.authorization.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;scheduling.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;settings.k8s.io&quot;</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">그룹 </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;storage.k8s.io&quot;</span><span class="w"></span>
<span class="w">    </span><span class="nt">생략단계 </span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
<span class="w">  </span><span class="c1"># 다른 모든 요청에 대한 기본 수준.</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">레벨 </span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">메타데이터</span><span class="w"></span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">생략단계</span><span class="w"> </span><span class="p p-Indicator">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;요청</span><span class="nv"> </span><span class="s">접수됨&quot;</span><span class="w"></span>
</code></pre></div>

<h2 id="_2">추천<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="_3">감사 로그 활성화<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>감사 로그는 EKS에서 관리하는 EKS 관리형 Kubernetes 제어 플레인 로그의 일부입니다. 감사 로그와 함께 Kubernetes API 서버, 컨트롤러 관리자 및 스케줄러에 대한 로그를 포함하는 컨트롤 플레인 로그 활성화/비활성화에 대한 지침은 <a href="https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs .html#enabling-control-plane-log-export"> https://docs.aws.amazon. com/eks/latest/userguide/control-plane-logs.html#enabling-control-plane-log-export </a>.</p>
<div class="admonition 정보">
<p class="admonition-title">정보</p>
</div>
<p>제어 플레인 로깅을 활성화하면 CloudWatch에 로그를 저장하는 데 <a href="https://aws.amazon.com/cloudwatch/pricing/"> 비용 </a>이 발생합니다. 이것은 지속적인 보안 비용에 대한 더 광범위한 문제를 제기합니다. 궁극적으로 이러한 비용을 보안 위반 비용(예: 금전적 손실, 평판 손상 등)과 비교하여 평가해야 합니다. 이 가이드의 권장 사항 중 일부만 구현하여 환경을 적절하게 보호할 수 있음을 알 수 있습니다.</p>
<div class="admonition 경고">
<p class="admonition-title">경고</p>
</div>
<p>CloudWatch Logs 항목의 최대 크기는 <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/cloudwatch_limits_cwl.html"> 256KB </a>인 반면 최대 Kubernetes API 요청 크기는 1.5MiB입니다. 256KB보다 큰 로그 항목은 잘리거나 요청 메타데이터만 포함합니다.</p>
<h3 id="_4">감사 메타데이터 활용<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>' 승인 되었는지 여부와 'authorization.k8s.io/reason' 결정 이유를 나타내는 두 개의 주석이 포함 됩니다 . 이러한 속성을 사용하여 특정 API 호출이 허용된 이유를 확인하십시오.</p>
<h3 id="_5">의심스러운 이벤트에 대한 알람 생성<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>403 Forbidden 및 401 Unauthorized 응답이 증가하는 위치를 자동으로 알리는 경보를 생성한 다음 <code>host</code> , <code>sourceIPs</code> 및 <code>k8s_user.username</code> 과 같은 속성을 사용 하여 이러한 요청이 어디에서 오는지 알아냅니다.</p>
<h3 id="log-insights">Log Insights로 로그 분석<a class="headerlink" href="#log-insights" title="Permanent link">&para;</a></h3>
<p>CloudWatch Log Insights를 사용하여 RBAC 개체(예: Roles, RoleBindings, ClusterRoles 및 ClusterRoleBindings)에 대한 변경 사항을 모니터링합니다. 몇 가지 샘플 쿼리가 아래에 나와 있습니다.</p>
<p><code>aws-auth</code> ConfigMap 에 대한 업데이트를 나열합니다 .</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="ss">&quot;kube-apiserver-audit&quot;</span><span class="n">와</span><span class="w"> </span><span class="n">같은</span><span class="w"> </span><span class="nv">@logStream</span><span class="w"> </span><span class="n">필터</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;업데이트&quot;, &quot;패치&quot;</span><span class="o">]</span><span class="n">의</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">동사</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;configmaps&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;aws-auth&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">namespace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;kube-system&quot;</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
</code></pre></div>

<p>유효성 검사 Webhook에 대한 새로운 생성 또는 변경 사항을 나열합니다.</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="ss">&quot;kube-apiserver-audit&quot;</span><span class="n">와</span><span class="w"> </span><span class="n">같은</span><span class="w"> </span><span class="nv">@logStream</span><span class="w"> </span><span class="n">필터</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;만들기&quot;, &quot;업데이트&quot;, &quot;패치&quot;</span><span class="o">]</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="n">responseStatus</span><span class="p">.</span><span class="n">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">201</span><span class="n">의</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">동사</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">resource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">&quot;webhook 구성 유효성 검사&quot;</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
</code></pre></div>

<p>역할에 대한 생성, 업데이트, 삭제 작업을 나열합니다.</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">제한</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">resource</span><span class="o">=</span><span class="ss">&quot;roles&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;</span><span class="o">]</span><span class="n">의</span><span class="w"> </span><span class="n">동사</span><span class="w"></span>
</code></pre></div>

<p>RoleBindings에 대한 생성, 업데이트, 삭제 작업을 나열합니다.</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">제한</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">resource</span><span class="o">=</span><span class="ss">&quot;rolebindings&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;</span><span class="o">]</span><span class="n">의</span><span class="w"> </span><span class="n">동사</span><span class="w"></span>
</code></pre></div>

<p>ClusterRole에 대한 생성, 업데이트, 삭제 작업을 나열합니다.</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">제한</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">resource</span><span class="o">=</span><span class="ss">&quot;clusterroles&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;</span><span class="o">]</span><span class="n">의</span><span class="w"> </span><span class="n">동사</span><span class="w"></span>
</code></pre></div>

<p>ClusterRoleBindings에 대한 생성, 업데이트, 삭제 작업을 나열합니다.</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">제한</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">resource</span><span class="o">=</span><span class="ss">&quot;clusterrolebindings&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;create&quot;, &quot;update&quot;, &quot;patch&quot;, &quot;delete&quot;</span><span class="o">]</span><span class="n">의</span><span class="w"> </span><span class="n">동사</span><span class="w"></span>
</code></pre></div>

<p>보안 비밀에 대한 무단 읽기 작업을 플로팅합니다.</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">제한</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="n">objectRef</span><span class="p">.</span><span class="n">resource</span><span class="o">=</span><span class="ss">&quot;secrets&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;get&quot;, &quot;watch&quot;, &quot;list&quot;</span><span class="o">]</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="n">responseStatus</span><span class="p">.</span><span class="n">code</span><span class="o">=</span><span class="ss">&quot;401&quot;</span><span class="n">의</span><span class="w"> </span><span class="n">동사</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">통계</span><span class="w"> </span><span class="nf">count</span><span class="p">()</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">bin</span><span class="p">(</span><span class="mi">1</span><span class="n">m</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>실패한 익명 요청 목록:</p>
<div class="codehilite"><pre><span></span><code><span class="n">필드</span><span class="w"> </span><span class="nv">@timestamp</span><span class="p">,</span><span class="w"> </span><span class="nv">@message</span><span class="p">,</span><span class="w"> </span><span class="n">sourceIPs</span><span class="mf">.0</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">정렬</span><span class="w"> </span><span class="nv">@timestamp</span><span class="w"> </span><span class="n">설명</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">제한</span><span class="w"> </span><span class="mi">100</span><span class="w"></span>
<span class="o">|</span><span class="w"> </span><span class="n">필터</span><span class="w"> </span><span class="k">user</span><span class="p">.</span><span class="n">username</span><span class="o">=</span><span class="ss">&quot;system:anonymous&quot;</span><span class="w"> </span><span class="n">및</span><span class="w"> </span><span class="o">[</span><span class="n">&quot;401&quot;, &quot;403&quot;</span><span class="o">]</span><span class="n">의</span><span class="w"> </span><span class="n">responseStatus</span><span class="p">.</span><span class="n">code</span><span class="w"></span>
</code></pre></div>

<h3 id="cloudtrail">CloudTrail 로그 감사<a class="headerlink" href="#cloudtrail" title="Permanent link">&para;</a></h3>
<p>서비스 계정에 대한 IAM 역할(IRSA)을 활용하는 포드에서 호출한 AWS API는 서비스 계정의 이름과 함께 CloudTrail에 자동으로 기록됩니다. API를 호출하도록 명시적으로 승인되지 않은 서비스 계정의 이름이 로그에 나타나면 IAM 역할의 신뢰 정책이 잘못 구성되었음을 나타낼 수 있습니다. 일반적으로 Cloudtrail은 AWS API 호출을 특정 IAM 주체에 할당하는 좋은 방법입니다.</p>
<h3 id="cloudtrail-insights">CloudTrail Insights를 사용하여 의심스러운 활동 발견<a class="headerlink" href="#cloudtrail-insights" title="Permanent link">&para;</a></h3>
<p>CloudTrail 통찰력은 CloudTrail 추적에서 쓰기 관리 이벤트를 자동으로 분석하고 비정상적인 활동을 알려줍니다. 이렇게 하면 IRSA를 사용하여 IAM 역할을 수임하는 포드를 포함하여 AWS 계정의 쓰기 API에 대한 호출 볼륨이 증가하는 시기를 식별하는 데 도움이 될 수 있습니다. <a href="https://aws.amazon.com/blogs/aws/announcing-cloudtrail-insights-identify-and-respond-to-unusual-api-activity/"> CloudTrail Insights 발표: 비정상적인 API 활동 식별 및 대응 </a> 을 참조하십시오. 자세한 내용은.</p>
<h3 id="_6">추가 리소스<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>로그 볼륨이 증가함에 따라 Log Insights 또는 다른 로그 분석 도구를 사용하여 로그를 구문 분석하고 필터링하는 것이 효과가 없을 수 있습니다. 대안으로 <a href="https://github.com/falcosecurity/falco"> Sysdig Falco </a> 및 <a href="https://github.com/sysdiglabs/ekscloudwatch"> ekscloudwatch </a> 실행을 고려할 수 있습니다. Falco는 감사 로그를 분석하고 장기간에 걸쳐 이상 또는 악용을 표시합니다. ekscloudwatch 프로젝트는 분석을 위해 CloudWatch에서 Falco로 감사 로그 이벤트를 전달합니다. Falco는 고유한 추가 기능과 함께 <a href="https://github.com/falcosecurity/plugins/blob/master/plugins/k8saudit/rules/k8s_audit_rules.yaml"> 기본 감사 규칙 </a> 세트를 제공합니다.</p>
<p>또 다른 옵션은 감사 로그를 S3에 저장하고 SageMaker <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/randomcutforest.html"> Random Cut Forest </a> 알고리즘을 사용하여 비정상적인 동작을 보장하는 것입니다. 추가 조사.</p>
<h2 id="_7">툴링<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p>다음 상용 및 오픈 소스 프로젝트를 사용하여 클러스터가 확립된 모범 사례와 일치하는지 평가할 수 있습니다.</p>
<ul>
<li><a href="https://github.com/Shopify/kubeaudit"> kubeaudit </a></li>
<li><a href="https://github.com/darkbitio/mkit"> 메킷 </a></li>
<li><a href="https://github.com/octarinesec/kube-scan"> kube-scan </a> Kubernetes Common Configuration Scoring System 프레임워크에 따라 클러스터에서 실행 중인 워크로드에 위험 점수를 할당합니다.</li>
<li><a href="https://github.com/genuinetools/amicontained"> amicontained </a> 어떤 기능이 허용되고 컨테이너 런타임에 의해 차단되는 시스템 호출이 표시됩니다.</li>
<li><a href="https://kubesec.io/"> kubesec.io </a></li>
<li><a href="https://github.com/FairwindsOps/polaris"> 폴라리스 </a></li>
<li><a href="https://github.com/aquasecurity/starboard"> 스타보드 </a></li>
<li><a href="https://github.com/alcideio/kaudit"> kAudit </a></li>
<li><a href="https://support.snyk.io/hc/en-us/articles/360003916138-Kubernetes-integration-overview"> Snyk </a></li>
</ul>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../multitenancy/" class="md-footer__link md-footer__link--prev" aria-label="이전: 멀티 테넌시" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                이전
              </span>
              멀티 테넌시
            </div>
          </div>
        </a>
      
      
        
        <a href="../network/" class="md-footer__link md-footer__link--next" aria-label="다음: 네트워크 보안" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                다음
              </span>
              네트워크 보안
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["tabs"], "search": "../../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub428", "clipboard.copy": "\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac", "search.config.lang": "en", "search.config.pipeline": " ", "search.config.separator": "[\\s\\-]+", "search.placeholder": "\uac80\uc0c9", "search.result.more.one": "\uc774 \ubb38\uc11c\uc5d0\uc11c 1\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.more.other": "\uc774 \ubb38\uc11c\uc5d0\uc11c #\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.none": "\uac80\uc0c9\uc5b4\uc640 \uc77c\uce58\ud558\ub294 \ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4", "search.result.one": "1\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.other": "#\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.placeholder": "\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694", "search.result.term.missing": "\ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4", "select.version.title": "\ubc84\uc804 \uc120\ud0dd"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>